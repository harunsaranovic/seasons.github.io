
<div class="menu">
    <div class="season active" onclick="changeSeason(0)" style="background: #498eb6;"></div>
    <div class="season" onclick="changeSeason(1)" style="background: #8bb437;"></div>
    <div class="season" onclick="changeSeason(2)" style="background: #f2dd0e;"></div>
    <div class="season" onclick="changeSeason(3)" style="background: #df2f14;"></div>

    <div onclick="changeNumberOfDies(4)" class="numberOfDies">4</div>
    <div onclick="changeNumberOfDies(5)" class="numberOfDies">5</div>
</div>
<div class="flex">
    <div id="dice_0" onclick="clicked(0)" class="die" style="background-image: url(https://x.boardgamearena.net/data/themereleases/current/games/seasons/231014-2222/img/dices.png); background-position: -100% -400%;"></div>
    <div id="dice_1" onclick="clicked(1)" class="die" style="background-image: url(https://x.boardgamearena.net/data/themereleases/current/games/seasons/231014-2222/img/dices.png); background-position: -100% -400%;"></div>
    <div id="dice_2" onclick="clicked(2)" class="die" style="background-image: url(https://x.boardgamearena.net/data/themereleases/current/games/seasons/231014-2222/img/dices.png); background-position: -100% -400%;"></div>
    <div id="dice_3" onclick="clicked(3)" class="die" style="background-image: url(https://x.boardgamearena.net/data/themereleases/current/games/seasons/231014-2222/img/dices.png); background-position: -100% -400%;"></div>
    <div id="dice_4" onclick="clicked(4)" class="die" style="background-image: url(https://x.boardgamearena.net/data/themereleases/current/games/seasons/231014-2222/img/dices.png); background-position: -100% -400%;"></div>
</div>
<div class="button">
    <button onclick="rool()">
        Rool
    </button>
</div>

<div id="clickeDices">
    
</div>

<div class="player playerbox_1">
    <input class="playerName" value="Player"></input>
    <div id="player_1"></div>
</div>
<div class="player playerbox_2" style="left: auto; right: 0;">
    <input class="playerName" value="Player"></input>
    <div id="player_2"></div>
</div>
<div class="player playerbox_3" style="top: auto; bottom: 0;">
    <input class="playerName" value="Player"></input>
    <div id="player_3"></div>
</div>
<div class="player playerbox_4" style="top: auto; bottom: 0; left: auto; right: 0;">
    <input class="playerName"  value="Player"></input>
    <div id="player_4"></div>
</div>


<style>
    html, body{
        margin: 0;
        padding: 0;
        background-image: url(./bg.jpg);
        background-color: #16213f;
        background-blend-mode: overlay;
        background-size: cover;
        color: #fff;
        font-family: Arial, Helvetica, sans-serif;
    }
    .numberOfDies{
        display: inline-block;
        width: 50px;
        height: 50px;
        border: solid 5px #00000000;
        background-color: aliceblue;
    }
    .season{
        display: inline-block;
        width: 50px;
        height: 50px;
        border: solid 5px #00000000
    }

    .active{
        border: solid 5px #000000
    }

    .menu {
        display: none;
    }
.flex {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.die {
    width: 54px; height: 54px; 
    border-radius: 38%;
    box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, .5);
    display: inline-block;
    margin: 3px;
    transform: scale(1);
}

.button{
    width: 100%;
    text-align: center;
    position: absolute;
    top: 60vh;
}

button{
    -width: 100px;
    -height: 50px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 2.4vw;
    padding: 0.5vw 2vw;
}

.clicked{
    border: solid 5px #000000
}

.player{
    position: absolute;
    background-color: #7cb8c733;
    top: 0;
    left: 0;
    width: 20vw;
    height: 10vw;
    padding: 1vw;
    border: solid 1vw #7cb8c7;
}

.playerbox_1{
    border-left: none;
    border-top: none;
    border-bottom-right-radius: 1vw;
}

.playerbox_2{
    border-right: none;
    border-top: none;
    border-bottom-left-radius: 1vw;
}

.playerbox_3{
    border-left: none;
    border-bottom: none;
    border-top-right-radius: 1vw;
}

.playerbox_4{
    border-right: none;
    border-bottom: none;
    border-top-left-radius: 1vw;
}

.playerName{
    width: 100%;
    height: 2vw;
    font-size: 1.5vw;
    text-align: center;
    margin-bottom: 1vw;
    border: none;
    background-color: #7cb8c7;
    color: #fff;
}

</style>

<script>
    let season = 0
    let numberOfDies = 4
    function rool(){
        let players = document.getElementsByClassName('player')
        for (let i = 0; i < players.length; i++) {
            let player = players[i]
            player.children[1].innerHTML = ''
        }
        let dices = document.getElementsByClassName('die')
        for (let i = 0; i < dices.length; i++) {
            let dice = dices[i]
            let random = Math.floor(Math.random() * 6)
            dice.style.backgroundPosition = `-${(season * 5 + i) * 100}% -${random * 100}%`
            dice.classList.remove('clicked')
            if(numberOfDies >= i)
                dice.style.display = 'inline-block'
        }
        nextPlayer = 1
    }

    function changeSeason(index){
        season = index
        let seasons = document.getElementsByClassName('season')
        for (let i = 0; i < seasons.length; i++) {
            let season = seasons[i]
            season.classList.remove('active')
        }
        seasons[index].classList.add('active')
    }

    function changeNumberOfDies(number){
        let dices = document.getElementsByClassName('die')
        for (let i = 0; i < dices.length; i++) {
            let dice = dices[i]
            if(i < number){
                dice.style.display = 'inline-block'
            }else{
                dice.style.display = 'none'
            }
        }
    }

    let nextPlayer = 1
    function clicked(index){
        if(nextPlayer <= numberOfDies){
            let dice = document.getElementById(`dice_${index}`)
            let player = document.getElementById(`player_${nextPlayer}`)
            dice.classList.add('clicked')
            //let clickeDices = document.getElementById(`clickeDices`)
            //clickeDices.appendChild(dice.cloneNode(true))
            player.appendChild(dice.cloneNode(true))
            dice.style.display = 'none'
            nextPlayer++
        }
    }
</script>